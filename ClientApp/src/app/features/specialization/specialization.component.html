<div class="layout-wrapper d-flex">
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">BookingCare Admin</div>
    <nav class="nav flex-column">
      <a href="/Clinic/get-all-clinics" class="nav-link">PhÃ²ng khÃ¡m</a>
      <a href="/Doctor/getall" class="nav-link">BÃ¡c sÄ©</a>
      <a href="/Specialization/get-all-specializations" class="nav-link">ChuyÃªn khoa</a>
      <a href="/Account/getall" class="nav-link ">Quáº£n lÃ½ ngÆ°á»i dÃ¹ng</a>
    </nav>
  </aside>

  <!-- Main content -->
  <main class="main-content">
    <h3 class="mb-4 fw-bold">Danh sÃ¡ch chuyÃªn khoa</h3>

    <div class="d-flex justify-content-between align-items-center mb-3">
      <div class="search-box" style="flex: 1; max-width: 400px;">
        <input
          type="text"
          [(ngModel)]="searchText"
          (ngModelChange)="filterSpecializations()"
          class="form-control"
          placeholder="ğŸ” TÃ¬m chuyÃªn khoa theo tÃªn..."
        />
      </div>
      <app-import></app-import>
      <div>
        <a href="/Specialization/add" class="btn btn-success">ThÃªm chuyÃªn khoa</a>
      </div>
    </div>

    <div *ngIf="isLoading" class="text-muted">Äang táº£i...</div>
    <div *ngIf="errorMessage" class="text-danger">{{ errorMessage }}</div>

    <table *ngIf="!isLoading && filteredSpecializations.length > 0" class="table table-bordered table-hover">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>TÃªn</th>
          <th>MÃ´ táº£</th>
          <th>HÃ¬nh áº£nh</th>
          <th>Thao tÃ¡c</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let s of pagedSpecializations">
          <td>{{ s.id }}</td>
          <td>{{ s.name }}</td>
          <td>{{ s.description }}</td>
          <td>
            <img
              [src]="'https://localhost:7182/uploads/' + s.image"
              width="160"
              height="160"
              style="object-fit: cover; border-radius: 8px"
            />
          </td>
          <td>
            <a href="/Specialization/update/{{ s.id }}" class="btn btn-sm btn-primary me-2">Sá»­a</a>
            <button class="btn btn-sm btn-danger" (click)="deleteSpecialization(s.id)">XoÃ¡</button>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <nav *ngIf="totalPages > 1" class="mt-3">
      <ul class="pagination justify-content-center">
        <li class="page-item" [class.disabled]="currentPage === 1">
          <button class="page-link" (click)="changePage(currentPage - 1)">Â«</button>
        </li>

        <li
          class="page-item"
          *ngFor="let page of [].constructor(totalPages); let i = index"
          [class.active]="currentPage === i + 1"
        >
          <button class="page-link" (click)="changePage(i + 1)">{{ i + 1 }}</button>
        </li>

        <li class="page-item" [class.disabled]="currentPage === totalPages">
          <button class="page-link" (click)="changePage(currentPage + 1)">Â»</button>
        </li>
      </ul>
    </nav>
  </main>
</div>
